angular.module("RDash",["ui.bootstrap","ui.router","ngCookies"]);
"use strict";angular.module("RDash").config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/login"),t.state("login",{url:"/login",templateUrl:"templates/secure/login.html"}).state("itemTank",{url:"/item-tank",templateUrl:"templates/ui/itemTank.html"}).state("tank",{url:"/tank",templateUrl:"templates/master/tank.html"}).state("item",{url:"/item",templateUrl:"templates/master/items.html"}).state("brand",{url:"/brand",templateUrl:"templates/master/brand.html"}).state("itemCategory",{url:"/item-category",templateUrl:"templates/ui/itemCategory.html"}).state("model",{url:"/model",templateUrl:"templates/master/model.html"})}]);
function rdLoading(){var d={restrict:"AE",template:'<div class="loading"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>'};return d}angular.module("RDash").directive("rdLoading",rdLoading);
function rdWidgetBody(){var d={requires:"^rdWidget",scope:{loading:"@?",classes:"@?"},transclude:!0,template:'<div class="widget-body" ng-class="classes"><rd-loading ng-show="loading"></rd-loading><div ng-hide="loading" class="widget-content" ng-transclude></div></div>',restrict:"E"};return d}angular.module("RDash").directive("rdWidgetBody",rdWidgetBody);
function rdWidgetFooter(){var e={requires:"^rdWidget",transclude:!0,template:'<div class="widget-footer" ng-transclude></div>',restrict:"E"};return e}angular.module("RDash").directive("rdWidgetFooter",rdWidgetFooter);
function rdWidgetTitle(){var i={requires:"^rdWidget",scope:{title:"@",icon:"@"},transclude:!0,template:'<div class="widget-header"><div class="row"><div class="pull-left"><i class="fa" ng-class="icon"></i> {{title}} </div><div class="pull-right col-xs-6 col-sm-4" ng-transclude></div></div></div>',restrict:"E"};return i}angular.module("RDash").directive("rdWidgetHeader",rdWidgetTitle);
function rdWidget(){var d={transclude:!0,template:'<div class="widget" ng-transclude></div>',restrict:"EA"};return d}angular.module("RDash").directive("rdWidget",rdWidget);
function AlertsCtrl(e,s){function t(){e.alerts.push({msg:"Another alert!"})}function r(s){e.alerts.push({type:"success",msg:s})}function l(s){e.alerts.splice(s,1)}e.alerts=[{type:"success",msg:"Thanks for visiting! Feel free to create pull requests to improve the dashboard!"},{type:"danger",msg:"Found a bug? Create an issue with as many details as you can."}],e.alerts=s.alerts,e.addAlert=t,e.addSuccessAlert=r,e.closeAlert=l}angular.module("RDash").controller("AlertsCtrl",["$scope","AlertService",AlertsCtrl]);
angular.module("RDash").controller("BrandCtrl",["$scope","BrandService","AlertService",function(n,r,e){function c(){n.brandDTO={name:null,active:!0}}function o(){console.log("AddBrand"),r.insert(n.brandDTO).success(function(){a(),c(),e.addSuccessAlert("Brand Saved Successfully.")}).error(function(n){console.error(n)})}function a(){r.readAll().success(function(r){n.brands=r}).error(function(n){console.error(n)})}function l(n){r.deactivate(n).success(function(n){a()}).error(function(n){console.error(n)})}console.log("BrandCtrl"),n.refreshBrandDTO=c,c(),n.addBrand=o,n.readAll=a,n.deactivate=l,a()}]);
angular.module("RDash").controller("ItemCtrl",["$scope","ItemService","AlertService","$cookieStore","$location",function(e,t,o,n,c){function r(){t.read().success(function(t){e.items=t}).error(function(e){console.error(e)})}function l(){e.itemDTO={name:null}}function s(){console.log("AddItem"),t.insert(e.itemDTO).success(function(){l(),r(),o.addSuccessAlert("Item Saved Successfully.")}).error(function(e){console.error(e)})}n.get("authenticated")?(console.log("ItemCtrl"),e.itemDTO={name:null},e.readItems=r,r(),e.refreshItemDTO=l,l(),e.addItem=s):c.path("/login")}]);
angular.module("RDash").controller("ItemTankCtrl",["$scope","ItemService","TankService","ItemTankService","AlertService","$cookieStore","$location",function(n,e,t,o,i,c,a){function r(){n.itemTankDTO={tank_id:null,qty:0,unit_price:0}}function s(e){n.itemTankDTO={tank_id:e,qty:0,unit_price:0}}function u(){e.readActive().success(function(e){n.items=e}).error(function(n){console.error(n)})}function T(){t.readActive().success(function(e){n.tanks=e}).error(function(n){console.error(n)})}function k(){null==n.itemTankDTO.tank_id||""==n.itemTankDTO.tank_id?n.itemTanks=[]:o.read(n.itemTankDTO.tank_id).success(function(e){n.itemTanks=e}).error(function(n){console.error(n)})}function l(){console.log("addItemTank"),o.insert(n.itemTankDTO).success(function(){u(),T(),s(n.itemTankDTO.tank_id),k(),i.addSuccessAlert("Item Successfully Added To Tank.")}).error(function(n){console.error(n)})}c.get("authenticated")?(n.loadItemTankDTO=r,r(),n.refreshItemTankDTO=s,n.loadItems=u,u(),n.loadTanks=T,T(),n.loadItemTanks=k,k(),n.addItemTank=l):a.path("/login")}]);
function MasterCtrl(t,e,n,a){function o(){t.authenticated=e.get("authenticated"),t.authenticated?(t.error=!1,t.authenticated=!0,e.put("authenticated",!0)):r(t.credentials,function(){t.authenticated?(a.path("/item-category"),t.error=!1):(a.path("/login"),t.error=!0)})}function i(){t.authenticated=!1,a.path("/login"),e.remove("authenticated")}var r=function(n,o){"admin"==n.username&&"123"==n.password?(t.authenticated=!0,e.put("authenticated",!0)):(a.path("/login"),t.authenticated=!1,e.put("authenticated",!1)),t.credentials={username:null,password:null},o&&o()};t.credentials={username:null,password:null},t.login=o,o(),t.logout=i;var u=992;t.getWidth=function(){return window.innerWidth},t.$watch(t.getWidth,function(n,a){n>=u?angular.isDefined(e.get("toggle"))?t.toggle=!!e.get("toggle"):t.toggle=!0:t.toggle=!1}),t.toggleSidebar=function(){t.toggle=!t.toggle,e.put("toggle",t.toggle)},window.onresize=function(){t.$apply()}}angular.module("RDash").controller("MasterCtrl",["$scope","$cookieStore","$http","$location",MasterCtrl]);
angular.module("RDash").controller("TankCtrl",["$scope","TankService","AlertService","$cookieStore","$location",function(n,e,o,r,a){function t(){e.read().success(function(e){n.tanks=e}).error(function(n){console.error(n)})}function c(){var e=new Date;n.tankDTO={name:null,identify_number:null,received_date:e,status:null}}function l(){console.log("addTank"),e.insert(n.tankDTO).success(function(){c(),t(),o.addSuccessAlert("Tank Saved Successfully.")}).error(function(n){console.error(n)})}r.get("authenticated")?(console.log("TankCtrl"),n.readTanks=t,t(),n.refreshTankDTO=c,c(),n.addTank=l):a.path("/login")}]);
angular.module("RDash").factory("AlertService",["$timeout",function(e){return{alerts:[],addSuccessAlert:function(e){var t={type:"success",msg:e};this.alerts.push(t)},addFailedAlert:function(e){this.alerts.push({type:"danger",msg:e})},clearAlerts:function(){for(var e in this.alerts)delete this.alerts[e]}}}]);
angular.module("RDash").factory("BrandService",["$http",function(t){var n="v1/brand";return{insert:function(e){return t.post(n+"/add",e)},search:function(){},readAll:function(){return t.get(n+"/get")},deactivate:function(e){return t.get(n+"/deactivate/"+e)}}}]);
angular.module("RDash").factory("ItemService",["$http",function(t){var e="v1/item";return{insert:function(n){return t.post(e+"/add",n)},search:function(){},read:function(){return t.get(e+"/get")},readActive:function(){return t.get(e+"/get/active")}}}]);
angular.module("RDash").factory("ItemTankService",["$http",function(t){var n="v1/itemTank";return{insert:function(e){return t.post(n+"/add",e)},search:function(){},read:function(e){return t.get(n+"/get/"+e)}}}]);
angular.module("RDash").factory("TankService",["$http",function(t){var n="v1/tank";return{insert:function(e){return t.post(n+"/add",e)},search:function(){},read:function(){return t.get(n+"/get")},readActive:function(){return t.get(n+"/get/active")}}}]);